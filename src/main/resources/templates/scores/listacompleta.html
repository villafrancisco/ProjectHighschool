<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
	integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<title>Listado de Notas</title>
</head>
<body>
	<div class="container">

		<nav class="navbar navbar-expand-lg navbar-light bg-light">

			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="/scores">Notas

					</a></li>
					<li class="nav-item"><a class="nav-link" href="/pupils">Alumnos</a></li>
					<li class="nav-item"><a class="nav-link" href="/stadistics">Estadisticas</a></li>

				</ul>

			</div>
		</nav>

		<h2 class="text-center">Lista de notas</h2>
		<div class="row">
			<div class="col-sm-8 col-md-8 col-lg-8 col-xl-8">
				<a href="/scores/nuevo" class="badge badge-primary p-2">Insertar
					nueva nota</a>

			</div>
			<div class="col-sm-4 col-md-4 col-lg-4 col-xl-4">
				<label for="filter">Filtrar por Asignatura:</label>
				 <select
					class="form-control" name="filter" id="filter">
					<option selected>Asignatura</option>
					<option th:each="subject:${subjects}"
						th:value="${subject.pk_subject}" th:text="${subject.name}"></option>
				</select>
			</div>
		</div>

		<table
			class="table  table-striped table-borderless table-hover table-sm">

			<thead class="thead-light">
				<tr>
					<th scope="col">#</th>
					<th scope="col">Alumno</th>
					<th scope="col">Asignatura</th>
					<th scope="col">Calificación</th>
					<th scope="col">Año</th>
					<th class="text-center" scope="col">Editar</th>

				</tr>
			</thead>
			<tbody>

				<tr th:each="score,iterator:${lista}">
					<td scope="row" th:text="${iterator.index+1}"></td>
					<td th:text="${score.pupil.name}"></td>
					<td th:text="${score.subject.name}"></td>
					<td th:text="${score.calification.alias}"></td>
					<td th:text="${#dates.format(score.date,'yyy')}"></td>
					<td class="text-center"><a
						th:href="'/pupils/'+ @{${score.pupil.pk_id}} +'/scores/editar/'+@{${score.pk_score}}"><i
							class="bi bi-pen"></i></a></td>



				</tr>

			</tbody>
		</table>
	</div>


	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
		crossorigin="anonymous"></script>
</body>
</html>